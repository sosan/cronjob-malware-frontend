package middlewares

import (
	"github.com/gofiber/fiber/v2"

	"github.com/gofiber/fiber/v2/middleware/compress"
	"github.com/gofiber/fiber/v2/middleware/logger"
	"github.com/gofiber/fiber/v2/middleware/recover"
)

func Setup(app *fiber.App) {

	// Middleware Logging
	configLogger := logger.Config{
		Format:     "[${ip}:${port}]-[${time}] ${status} ${latency} ${method} ${path} ${error}\n",
		TimeFormat: "02-01-2006 15:04:05",
		TimeZone:   "Europe/Madrid",
	}

	app.Use(logger.New(configLogger))
	app.Use(recover.New())

	app.Use(compress.New(compress.Config{
		Level: compress.LevelBestSpeed,
	}))

}
