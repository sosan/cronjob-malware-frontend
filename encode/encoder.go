package encode

import (
	"main/models"

	"github.com/vmihailenco/msgpack/v5"
)

// T
func DecodingDataT(data []byte, allTrends models.Trends ) *models.Trends {

  err := msgpack.Unmarshal([]byte(data), &allTrends)
  if err != nil {
    return &allTrends
  }

  return &allTrends

}

func DecodingData[T any](data []byte, genericData T) T {
	err := msgpack.Unmarshal([]byte(data), genericData)
	if err != nil {
		return genericData
	}
	return genericData
}

func CodingData(data interface{}) []byte {

	result, err := msgpack.Marshal(data)
	if err != nil {
		return []byte{}
	}

	return result
}
